$(document).ready(function(){if($(".js-company-info").length){runSidebarCallout();}});function setupSideCalloutBlockPosition(){var $jsVideoRow=$(".js-video-row"),$jsSideCalloutBlock=$(".js-side-callout-block"),$window=$(window),windowHeightScrolled=$window.scrollTop()+$window.height(),sideCalloutHeight=$(".js-side-callout-message").height(),initialSideCalloutTopPosition=getinitialSideCalloutTopPosition(),sideCalloutBottomPosition=getSideCalloutBottomPosition(initialSideCalloutTopPosition);$jsSideCalloutBlock.css("height",sideCalloutHeight);if(windowHeightScrolled>sideCalloutBottomPosition){$jsSideCalloutBlock.css("position","fixed").css("top","initial");}else{$jsSideCalloutBlock.css("top",(initialSideCalloutTopPosition+"px"));}}
function setupSideCalloutScrollTracking(){var $jsSideCalloutBlock=$(".js-side-callout-block"),$window=$(window),windowHeightScrolled=$window.scrollTop()+$window.height();$jsSideCalloutBlock.hide().css("visibility","visible").fadeIn();$window.scroll(function(){setSideCalloutPositionProperty($jsSideCalloutBlock);});$window.resize(function(){setSideCalloutPositionProperty($jsSideCalloutBlock);});}
function setSideCalloutPositionProperty(target){var $window=$(window),windowHeightScrolled=$window.scrollTop()+$window.height(),sideCalloutHeight=$(".js-side-callout-block").height(),initialSideCalloutTopPosition=getinitialSideCalloutTopPosition(),sideCalloutBottomPosition=getSideCalloutBottomPosition(initialSideCalloutTopPosition);if(windowHeightScrolled>sideCalloutBottomPosition){target.css("position","fixed").css("top","initial");}else{target.css("position","absolute").css("top",(initialSideCalloutTopPosition+"px"));}}
function getinitialSideCalloutTopPosition(){var $jsVideoRow=$(".js-video-row");var top=$jsVideoRow.offset().top+$jsVideoRow.height()+40;return top}
function getSideCalloutBottomPosition(initialSideCalloutTopPosition){var sideCalloutHeight=$(".js-side-callout-block").height(),bottomPos=initialSideCalloutTopPosition+sideCalloutHeight+30;return bottomPos;}
function runSidebarCallout(){setupSideCalloutBlockPosition();setupSideCalloutScrollTracking();};